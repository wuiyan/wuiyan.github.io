---
cover: https://images.unsplash.com/photo-1618401479427-c8ef9465fbe1?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=300&ixid=MnwxfDB8MXxyYW5kb218MHx8Z2l0aHVifHx8fHx8MTY5MjM0OTIxMA&ixlib=rb-4.0.3&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=800
icon: edit
date: 2023-08-18 15:00:00
# excerpt: æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ ğŸ‰
category:
  - æŠ€æœ¯
tag:
  - github
---

# å¦‚ä½•ä½¿ç”¨GithubActionè‡ªåŠ¨éƒ¨ç½²VuePressåˆ°GithubPages

:::info æç¤º
ä»“åº“åç§°å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ `[ä½ çš„GitHubç”¨æˆ·å].github.io` æ ¼å¼æ¥

å¦åˆ™ä¼šå°†ç½‘ç«™éƒ¨ç½²åˆ°ä»¥ä»“åº“åç§°å‘½åçš„å­è·¯å¾„ä¸Š
:::

## æ‰“å¼€ repo æ§åˆ¶æƒé™

ä¾æ¬¡è¿›å…¥ä»“åº“çš„ Settings=>Action=>General

**æ‰“å¼€ä»¥ä¸‹ä¸¤ä¸ªæƒé™ï¼š**

Workflow Permissions:

- [x] Read and write permissions

- [x] Allow GitHub Actions to create and approve pull requests

## ç¼–å†™Github WorkFlowé…ç½®æ–‡ä»¶

æ–‡ä»¶ `.github/workflows/deploy-github-pages.yml`

```yml
# Action çš„åç§°
name: Deploy GitHub Pages

# è§¦å‘æ¡ä»¶ï¼šåœ¨ push åˆ° main åˆ†æ”¯å
on:
  push:
    branches:
      - main

# ä»»åŠ¡
jobs:
  build-and-deploy:
    # æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu
    runs-on: ubuntu-latest
    steps:
      # æ‹‰å–ä»£ç 
      - name: Checkout
        uses: actions/checkout@v3
        with:
          persist-credentials: false

      # ç”Ÿæˆé™æ€æ–‡ä»¶
      - name: Build
        run: npm install && npm run docs:build

      # éƒ¨ç½²åˆ° GitHub Pages
      - name: Deploy
        # ä½¿ç”¨åˆ«äººå†™å¥½çš„ä¸€ä¸ª action
        uses: JamesIves/github-pages-deploy-action@releases/v4
        with:
          # æ‰“åŒ…åçš„æ–‡ä»¶éƒ¨ç½²åˆ°å“ªä¸ªåˆ†æ”¯ä¸Š
          BRANCH: gh-pages
          # æ‰“åŒ…åçš„æ–‡ä»¶åœ¨å“ªé‡Œ
          FOLDER: src/.vuepress/dist
```

é…ç½®å®Œæˆååº”è¯¥ä¼šè‡ªåŠ¨å¼€å§‹æ„å»ºï¼Œåœ¨actionsé‡Œå¯ä»¥çœ‹åˆ°æ„å»ºè¯¦æƒ…ï¼Œå¤±è´¥ä¼šæ˜¾ç¤ºåŸå› 
ä»¥åæ¯æ¬¡pushéƒ½ä¼šè‡ªåŠ¨æ„å»ºéƒ¨ç½²

## é…ç½®GitHub Pages

:::info
ç­‰å¾…ä¸Šä¸€æ­¥actionæ‰§è¡ŒæˆåŠŸï¼Œå†è¿›è¡Œè¿™ä¸€æ­¥
:::

æ‰“å¼€ Settings ä¸­çš„ Pages é¡µé¢

Source é€‰æ‹© Deploy From Branch

Branch é€‰æ‹© gh-pages ç„¶åsaveå³å¯

Pages çš„æ„å»ºæµç¨‹è¿™æ—¶åº”è¯¥ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œç­‰å¾…å‡ åˆ†é’Ÿï¼ŒPages é¡µé¢é¡¶éƒ¨å°±ä¼šæ˜¾ç¤ºéƒ¨ç½²æˆåŠŸåçš„åŸŸåå•¦ã€‚

## **å®ŒğŸ‰**
